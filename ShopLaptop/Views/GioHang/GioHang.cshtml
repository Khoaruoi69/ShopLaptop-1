@model IEnumerable<ShopLaptop.Models.GioHang>

@{
    ViewBag.Title = "GioHang";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div id="root-cart">

</div>

@{
    if (Model.Count() == 0)
    {
        <script>
            document.getElementById("root-cart").insertAdjacentHTML("afterbegin", '<img src="~/Content/images/no-cart.png" alt="Alternate Text">');
        </script>
    }
    else
    {
        
    }
}



<header class="py-5" style="background: linear-gradient(90deg, rgba(0,212,255,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%);">
    <div class="container px-1 px-lg-1 my-1">
        <div class="text-center text-white">
            <h1 class="display-4 fw-bolder">Giỏ hàng</h1>
            <p class="lead fw-normal mb-0" style="color: #4cff00;">Cám ơn quý khách đã lựa chọn sản phẩm từ iLaptop! 🧡🧡🧡</p>
        </div>
    </div>
</header>
<div class="row" style="margin-top: 10px;margin-bottom:10px;">
    <div class="col-12">
        <p>
            @*@Html.ActionLink("Create New", "Create")*@
            <a class="btn btn-danger" href="@Url.Action("Index", "Home")"> <i class="fa fa-cart-arrow-down"></i> Mua thêm</a>
        </p>
    </div>
</div>

<table class="table table-bordered tab">
    <tr>
        @*<th>
                @Html.DisplayNameFor(model => model.malaptop)
            </th>*@
        <th class="text-center" style="vertical-align:middle">
            @Html.DisplayNameFor(model => model.tenlaptop) <i class="fa fa-laptop"></i>
        </th>
        <th class="text-center" style="vertical-align:middle">
            @Html.DisplayNameFor(model => model.hinh) <i class="fa fa-image"></i>
        </th>
        <th class="text-center" style="vertical-align:middle">
            @Html.DisplayNameFor(model => model.giaban) <i class="fa fa-money-bill"></i>
        </th>
        <th class="text-center" style="vertical-align:middle">
            @Html.DisplayNameFor(model => model.iSoluong) <i class="fa fa-sort-numeric-up"></i>
        </th>
        <th class="text-center" style="vertical-align:middle">
            @Html.DisplayNameFor(model => model.dThanhTien) <i class="fa fa-money-bill-wave-alt"></i>
        </th>
        <th class="text-center" style="vertical-align:middle">
            Thao tác <i class="fa fa-ticket-alt"></i>
        </th>
        <th class="text-center" style="vertical-align:middle">
            Giỏ hàng <i class="fa fa-shopping-bag"></i>
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.tenlaptop)
            </td>
            <td>
                <img src="~/Content/images/@item.hinh" width="100" height="250" />
            </td>
            @using (Html.BeginForm("CapnhatGiohang", "GioHang", new { @id = item.malaptop }))
            {
                <td>
                    @String.Format("0:0,0", item.giaban) VNĐ
                </td>
                <td>
                    <input type="number" min="1" name="txtSolg" value="@item.iSoluong" />
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.dThanhTien)
                </td>
                <td>
                    <a href="@Url.Action("Details", "Home", new { id = item.malaptop })"> Chi tiết</a> | @*@Html.ActionLink("Xóa", "XoaGioHang", new { @id = item.malaptop })*@
                    <a href="@Url.Action("XoaGioHang", "GioHang", new { id = item.malaptop })"> Xóa</a>
                </td>
                <td>
                    <input type="submit" value="Cập nhập giỏ" class="btn btn-success" />
                </td>
            }
        </tr>
    }
    <tr style="font-weight:bold; text-align:right; color:red">
        @*<td colspan="2"> Số loại Laptop: @ViewBag.Tomgsoluongsanpham</td>
            <td colspan="2"> Số lượng Laptop: @ViewBag.Tongsoluong</td>
            <td colspan="4"> Tổng tiền: @String.Format("{0:0,0}", ViewBag.Tongtien) VNĐ</td>*@
        <td colspan="7">
            <div>
                <p>Số loại Laptop: @ViewBag.Tomgsoluongsanpham</p>
                <p>Số lượng Laptop: @ViewBag.Tongsoluong</p>
                <p>Tổng tiền: @String.Format("{0:0,0}", ViewBag.Tongtien) VNĐ</p>
            </div>
        </td>
    </tr>

    <tr style="font-weight: bold; color:blue; text-align:right">
        <td colspan="7"> @Html.ActionLink("Xóa giỏ hàng", "XoaTatCaGioHang")</td>
    </tr>

    <tr style="font-weight: bold; color:blue; text-align:right">
        <td colspan="7">
            <div>
                @*@Html.ActionLink("Tieps tục mua hàng", "Index", "Home")
                    @Html.ActionLink("Đặt hàng", "Dathang", "GioHang")*@
                <a class="btn btn-outline-dark" href="@Url.Action("Index", "Home")"> <i class="fa fa-arrow-left"></i> Tiếp tục mua hàng</a>
                <a class="btn btn-dark" href="@Url.Action("Dathang", "GioHang")">Thanh toán đặt hàng <i class="fa fa-arrow-right"></i></a>
            </div>
        </td>
    </tr>

</table>
